<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Summarize Settings</title>
    <link rel="stylesheet" href="./style.css" />
  </head>
  <body>
    <main>
      <div class="top">
        <h1>Summarize Settings</h1>
        <div id="buildInfo" class="buildInfo"></div>
      </div>
      <form id="form">
        <section class="section">
          <h2>Token setup</h2>
          <label>
            <span>Token</span>
            <input id="token" type="text" placeholder="(generated in side panel)" />
          </label>
          <label class="row">
            <input id="auto" type="checkbox" />
            <span>Auto-summarize when panel is open</span>
          </label>
        </section>

        <section class="section">
          <h2>Prompt · Language · Model</h2>
          <label>
            <span>Language</span>
            <div class="combo">
              <select id="languagePreset">
                <option value="auto">Auto (detect)</option>
                <option value="en">English</option>
                <option value="de">German</option>
                <option value="es">Spanish</option>
                <option value="fr">French</option>
                <option value="it">Italian</option>
                <option value="pt">Portuguese</option>
                <option value="nl">Dutch</option>
                <option value="sv">Swedish</option>
                <option value="no">Norwegian</option>
                <option value="da">Danish</option>
                <option value="fi">Finnish</option>
                <option value="pl">Polish</option>
                <option value="cs">Czech</option>
                <option value="tr">Turkish</option>
                <option value="ru">Russian</option>
                <option value="uk">Ukrainian</option>
                <option value="ar">Arabic</option>
                <option value="hi">Hindi</option>
                <option value="ja">Japanese</option>
                <option value="ko">Korean</option>
                <option value="zh-cn">Chinese (Simplified)</option>
                <option value="zh-tw">Chinese (Traditional)</option>
                <option value="custom">Custom…</option>
              </select>
              <input
                id="languageCustom"
                type="text"
                placeholder="Custom (e.g. en-US / Portuguese (Brazil))"
                autocapitalize="off"
                autocomplete="off"
                spellcheck="false"
                hidden
              />
            </div>
          </label>
          <details class="advanced">
            <summary>Model + prompt</summary>
            <div class="advancedGrid">
              <label>
                <span>Model</span>
                <div class="combo">
                  <select id="modelPreset">
                    <option value="auto">Auto</option>
                    <option value="custom">Custom…</option>
                  </select>
                  <input
                    id="modelCustom"
                    type="text"
                    placeholder="auto"
                    autocapitalize="off"
                    autocomplete="off"
                    spellcheck="false"
                    hidden
                  />
                </div>
                <div class="hint">
                  Tip: configure “free” models via <code>summarize refresh-free</code> (needs <code>OPENROUTER_API_KEY</code>). Writes
                  <code>~/.summarize/config.json</code> (updates <code>models.free</code>). Add <code>--set-default</code> to also set
                  your default model to <code>free</code>.
                </div>
              </label>
              <label>
                <span>Prompt override</span>
                <textarea
                  id="promptOverride"
                  rows="6"
                  placeholder="Custom instructions (prefix). Context + content still appended."
                ></textarea>
              </label>
              <label>
                <span>Max chars (extracted)</span>
                <input id="maxChars" type="number" min="20000" step="10000" />
              </label>
            </div>
          </details>
          <div class="hint">
            Made by
            <a href="https://steipete.me" target="_blank" rel="noopener noreferrer">Peter Steinberger</a>
            · MIT licensed ·
            <a href="https://github.com/steipete/summarize/issues" target="_blank" rel="noopener noreferrer"
              >Report issues on GitHub</a
            >
          </div>
        </section>

        <section class="section">
          <h2>UI</h2>
          <div class="uiGrid">
            <div id="pickersRoot"></div>
            <label>
              <span>Font family (CSS)</span>
              <input id="fontFamily" type="text" />
            </label>
            <label>
              <span>Font size</span>
              <input id="fontSize" type="number" min="12" max="20" step="1" />
            </label>
          </div>
        </section>

        <div class="buttons">
          <button type="submit">Save</button>
          <span id="status" class="status"></span>
        </div>
      </form>
    </main>
    <script type="module" src="./main.ts"></script>
  </body>
</html>
